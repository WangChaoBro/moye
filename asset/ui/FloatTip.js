/*! 2015 Baidu Inc. All Rights Reserved */
define("ui/FloatTip",["require","jquery","./lib","./Control"],function(require){var e=require("jquery"),t=require("./lib"),n=require("./Control"),i={getClass:function(e){return e=e?"-"+e:"",this.options.prefix+e},getDom:function(n,r){return e("."+i.getClass.call(this,n),t.g(r))[0]},create:function(){var t=this.options,n={content:t.content,iconClass:i.getClass.call(this,"icon"),contentClass:i.getClass.call(this,"content")};this.main=e("<div>").addClass(i.getClass.call(this)).css({width:t.width,left:t.left,top:t.top,position:t.fixed?"fixed":"absolute",zIndex:t.level}).html(this.options.tpl.replace(/#\{([\w-.]+)\}/g,function(e,t){return n[t]||""})).appendTo(document.body).get(0)}},r=n.extend({type:"FloatTip",options:{prefix:"ecl-ui-floattip",content:"",width:"",top:"",left:"",fixed:1,level:"",tpl:'<i class="#{iconClass}"></i><div class="#{contentClass}">#{content}</div>'},setContent:function(e){i.getDom.call(this,"content").innerHTML=e},render:function(){if(!this.rendered){var e=this.options;if(e.fixed&&6===t.browser.ie)e.fixed=0;i.create.call(this),this.rendered=!0}return this},adjustPos:function(){var t=this.options.left,n=this.options.top,i=e(window),r=e(this.main);if(this.options.fixed){var o={left:t,top:n};if(!t)o.left="50%",o.marginLeft=-r.width()/2+"px";if(!n)o.top=.4*(i.height()-r.height())+"px";e(this.main).css(o)}else{if(""===t)t=(i.width()-r.width())/2,t+=i.scrollLeft(),t+="px";if(""===n)n=.4*(i.height()-r.height()),n+=i.scrollTop(),n+="px";r.css({position:"absolute",left:t,top:n})}},show:function(){return e(this.main).show(),this.adjustPos(),this},hide:function(){return e(this.main).hide(),this}});return r});