/*! 2015 Baidu Inc. All Rights Reserved */
define("ui/Radio",["require","./lib","./Control"],function(require){var t=(require("./lib"),require("./Control")),e=t.extend({type:"Radio",options:{item:"label",activeClass:"active"},init:function(t){this.$parent(t),this.datasource=this.datasource||$(this.main).data("datasource")},initStructure:function(){var t=this;$(this.item,this.main).each(function(e,n){if(t.isActiveItem(n))t.current=n})},initEvents:function(){this.delegate(this.main,"click",this.onClick)},onClick:function(t){var e=this.item,n=$(t.target).closest(e,this.main);if(!this.isActiveItem(n)){var i=this.activeClass;if(n.addClass(i),this.current)$(this.current).removeClass(i);this.current=n,this.fire("change",{target:this})}},isActiveItem:function(t){return t=$(t),t.is(this.item)&&t.hasClass(this.activeClass)},getValue:function(){var t=this.current;if(!t)return"";else return this.getValueFromDom(t)},getValueFromDom:function(t){return t=$(t),t.is("input")?t.val():t.data("value")},setValue:function(t){var e=this,n=e.activeClass;return $(e.item,this.main).each(function(i,r){var a=e.getValueFromDom(r),r=$(r);if(t==a)r.addClass(n).find("input").get(0).checked=!0,e.current=r[0];else r.removeClass(n)}),this},dispose:function(){this.current=null,this.undelegate(this.main,"click",this.onClick),t.prototype.dispose.apply(this,arguments)}});return e});