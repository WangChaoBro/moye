/*! 2015 Baidu Inc. All Rights Reserved */
define("ui/Form",["require","jquery","./lib","./Panel","./main","./painter"],function(require){var e=require("jquery"),t=require("./lib"),n=require("./Panel"),i=require("./main"),r=n.extend({type:"Form",options:{action:"",method:"GET",target:"_self"},createMain:function(){return document.createElement("form")},init:function(e){this.$parent(e),this.action=this.action||this.main.action},initStructure:function(){var e=(this.options,this.main);if("FORM"===e.tagName)e.action=this.action||e.action,e.method=this.method||e.method,e.target=this.target||e.target},initEvents:function(){this.options;if("FORM"===this.main.tagName)this.delegate(this.main,"submit",this.submit)},repaint:require("./painter").createRepaint(n.prototype.repaint,{name:"action",paint:function(e,t){this.main.action=t}}),submit:function(t){var n=new e.Event("submit");if(this.fire(n),n.isDefaultPrevented())return t&&t.preventDefault(),!1;if("FORM"===this.main.tagName)this.main.submit();return this},getData:function(){var e=this.getInputControls(),n={};return t.each(e,function(e){if(!e.isDisabled()){var t=e.name,i=e.getValue();if(n.hasOwnProperty(t))n[t]=[].concat(n[t],i);else n[t]=i}}),n},getInputControls:function(){function n(o){e(o).children().each(function(e,o){var s=i.getControlByDOM(o);if(s&&s.name&&t.isFunction(s.getValue)&&s.context===r.context)a.push(s);else n(o)})}var r=this,a=[];return n(r.main),a}});return r});