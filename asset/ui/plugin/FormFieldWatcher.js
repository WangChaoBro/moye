/*! 2015 Baidu Inc. All Rights Reserved */
define("ui/plugin/FormFieldWatcher",["require","jquery","./Plugin","../lib"],function(require){var e=require("jquery"),t=require("./Plugin"),n=require("../lib"),i=t.extend({$class:"FormFieldWatcher",options:{eventTypes:["change","input"]},initialize:function(t){this.$parent(t),this.trigger=e.proxy(this.trigger,this)},activate:function(t){if(!this.isActivated())this.control=t,t.once("afterrender",e.proxy(this.bind,this)),this.$parent()},inactivate:function(){if(this.isActivated()){var e=this.controls,t=this.trigger;if(e)n.each(e,function(e){e.off("change",t),e.off("input",t)});this.controls=null,this.$parent()}},bind:function(){var e=this.trigger,t=this.controls=this.control.getInputControls();n.each(t,function(t){t.on("change",e),t.on("input",e)})},trigger:function(e){this.control.fire("fieldchange",{target:e.target,originEvent:e})}});return i});