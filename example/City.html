<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<title>City - Moye</title>
<link rel="stylesheet" href="./css/common.css" />
<script src="./js/esl.js"></script>
<script src="./js/jquery-1.10.2.min.js"></script>
<script>
require.config({ 'baseUrl': '../asset' });
</script>
<link rel="stylesheet" href="../asset/css/City.css">
</head>
<body>
<div class="nav">
    <a href="#" class="logo"><img src="./img/moye.png" alt=""></a>
    <ul>
        <li><a href="Button.html" class="">Button</a>
        <li><a href="Calendar.html" class="">Calendar</a>
        <li><a href="City.html" class="active">City</a>
        <li><a href="Dialog.html" class="">Dialog</a>
        <li><a href="Pager.html" class="">Pager</a>
        <li><a href="Slider.html" class="">Slider</a>
        <li><a href="Select.html" class="">Select</a>
        <li><a href="Tabs.html" class="">Tabs</a>
        <li><a href="TextBox.html" class="">TextBox</a>
    </ul>
</div>
<div class="container">
    <div id="main">
<div class="markdown"><h1 id="city-">City 城市选择器</h1>
<h3 id="-">常规用法</h3>
<pre><code class="lang-html">&lt;<span class="tag">label</span> <span class="keyword">for</span>=<span class="string">"city"</span>&gt;请选择城市&lt;/label&gt;
&lt;<span class="tag">input</span> id=<span class="string">"city"</span> type=<span class="string">"text"</span> /&gt;
</code></pre>
<pre><code class="lang-js"><span class="built_in">require</span>([<span class="string">'ui/City'</span>], <span class="function"><span class="keyword">function</span> <span class="params">(City)</span> </span>{

    <span class="keyword">var</span> $ = <span class="built_in">require</span>(<span class="string">'jquery'</span>);

    $(<span class="string">'.city'</span>).each(<span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>{

        <span class="keyword">new</span> City({
            name: <span class="string">'city'</span>,
            main: <span class="keyword">this</span>,
            readOnly: <span class="literal">true</span>,
            value: <span class="string">'北京'</span>
        }).render();

    });

});
</code></pre>
<p>特性:</p>
<ol>
<li>带有初始值</li>
<li>只能选择城市, 不可手工输入</li>
<li>使用默认城市列表</li>
<li>可指定<code>name</code>值, 可在直接<code>form</code>中使用</li>
</ol>
<div class="content line">
    <label for="city">请选择城市</label>
    <input id="city" type="text" class="city" />
</div>

<script>
require(['ui/City'], function (City) {

    var $ = require('jquery');

    $('.city').each(function () {

        new City({
            name: 'city',
            main: this,
            readOnly: true,
            value: '北京'
        }).render();

    });

});
</script>

<h3 id="-">自定义城市</h3>
<pre><code class="lang-html">&lt;div <span class="class"><span class="keyword">class</span>=</span><span class="string">"line"</span>&gt;
    &lt;label <span class="keyword">for</span>=<span class="string">"custom-city"</span>&gt;请选择城市&lt;/label&gt;
    &lt;input id=<span class="string">"custom-city"</span> <span class="class"><span class="keyword">type</span>=</span><span class="string">"text"</span> <span class="class"><span class="keyword">class</span>=</span><span class="string">"custom-city"</span> /&gt;
&lt;/div&gt;
</code></pre>
<pre><code class="lang-js"><span class="built_in">require</span>([<span class="string">'ui/City'</span>], <span class="function"><span class="keyword">function</span> <span class="params">(City)</span> </span>{

    <span class="keyword">var</span> $ = <span class="built_in">require</span>(<span class="string">'jquery'</span>);

    $(<span class="string">'.custom-city'</span>).each(<span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>{

        <span class="keyword">var</span> city = <span class="keyword">new</span> City({
            main: <span class="keyword">this</span>,
            <span class="comment">// 需要隐藏的城市列表，半角逗号分隔</span>
            hideCities: <span class="string">'北京,上海'</span>,
        });

        city.fill(<span class="string">''</span>
            + <span class="string">'其他|'</span>
            + <span class="string">'香港,澳门,台湾'</span>
        );

        city.render();

    });

});
</code></pre>
<p>特性:</p>
<ol>
<li>屏蔽指定的城市: 北京, 上海</li>
<li>在默认填充的城市列表后, 添加自定义的城市</li>
</ol>
<p><div class="content line">
    <label for="custom-city">请选择城市</label>
    <input id="custom-city" type="text" class="custom-city" />
</div></p>
<script>
require(['ui/City'], function (City) {

    var $ = require('jquery');

    $('.custom-city').each(function () {

        var city = new City({
            main: this,
            // 需要隐藏的城市列表，半角逗号分隔
            hideCities: '北京,上海',
        });

        city.fill(''
            + '其他|'
            + '香港,澳门,台湾'
        );

        city.render();

    });

});
</script>

<h3 id="-">不使用默认城市</h3>
<pre><code class="lang-html">&lt;label <span class="keyword">for</span>=<span class="string">"no-default-city"</span>&gt;请选择城市&lt;/label&gt;
&lt;input id=<span class="string">"no-default-city"</span> <span class="class"><span class="keyword">type</span>=</span><span class="string">"text"</span> <span class="class"><span class="keyword">class</span>=</span><span class="string">"no-default-city"</span> /&gt;
</code></pre>
<pre><code class="lang-js"><span class="built_in">require</span>([<span class="string">'ui/City'</span>], <span class="function"><span class="keyword">function</span> <span class="params">(City)</span> </span>{

    <span class="keyword">var</span> $ = <span class="built_in">require</span>(<span class="string">'jquery'</span>);

    $(<span class="string">'.no-default-city'</span>).each(<span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>{

        <span class="keyword">var</span> city = <span class="keyword">new</span> City({
            main: <span class="keyword">this</span>,
            autoFill: <span class="literal">false</span>
        });

        city.fill(<span class="string">''</span>
            + <span class="string">'其他|'</span>
            + <span class="string">'香港,澳门,台湾'</span>
        );

        city.render();

    });

});
</code></pre>
<p><div class="content line">
    <label for="no-default-city">请选择城市</label>
    <input id="no-default-city" type="text" class="no-default-city" />
</div></p>
<script>
require(['ui/City'], function (City) {

    var $ = require('jquery');

    $('.no-default-city').each(function () {

        var city = new City({
            main: this,
            autoFill: false
        });

        city.fill(''
            + '其他|'
            + '香港,澳门,台湾'
        );

        city.render();

    });

});
</script>
</div>    </div>
    <div id="dark-bg">
        <div id="top-nav">
            <ul id="lang-nav" class="ui-tabs" data-ctrl-context="default" data-ctrl-id="moye-8">
                <li class="ui-tabs-item ui-tabs-item-first ui-tabs-active" data-index="0">js</li>
                <li class="ui-tabs-item" data-index="1">html</li>
            </ul>
        </div>
    </div>
</div>
<script>
require(['jquery', 'ui/lib', 'ui/Tabs'], function ($, lib, Tabs) {
    lib.fixed($('.nav')[0], {
        top: 0,
        left: 0,
        bottom: 0
    });

    var tabs = [{
        title: 'js'
    }, {
        title: 'html'
    }];

    new Tabs({
        main: document.getElementById('lang-nav'),
        tabs: tabs
    }).render().on('change', function (e) {
        switchCode(tabs[e.activeIndex].title);
    });

    function switchCode(title) {
        $('pre code').each(function () {
            var code = $(this);
            var pre = code.parent();
            if (code.hasClass('lang-' + title)) {
                pre.show();
            }
            else {
                pre.hide();
            }
        });
    }
});
</script>
</body>
</html>
